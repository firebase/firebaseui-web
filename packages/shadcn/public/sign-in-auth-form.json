{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "sign-in-auth-form",
  "type": "registry:block",
  "title": "Sign In Auth Form",
  "description": "A form allowing users to sign in with email and password.",
  "dependencies": [
    "@firebase-ui/react"
  ],
  "registryDependencies": [
    "input",
    "button",
    "form",
    "https://fir-ui-shadcn.web.app/policies.json"
  ],
  "files": [
    {
      "path": "src/registry/sign-in-auth-form.tsx",
      "content": "\"use client\";\n\nimport type { SignInAuthFormSchema } from \"@firebase-ui/core\";\nimport { useSignInAuthFormAction, useSignInAuthFormSchema, useUI, type SignInAuthFormProps } from \"@firebase-ui/react\";\nimport { useForm } from \"react-hook-form\";\nimport { standardSchemaResolver } from \"@hookform/resolvers/standard-schema\";\nimport { FirebaseUIError, getTranslation } from \"@firebase-ui/core\";\n\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\nimport { Policies } from \"./policies\";\n\nexport type { SignInAuthFormProps };\n\nexport function SignInAuthForm(props: SignInAuthFormProps) {\n  const ui = useUI();\n  const schema = useSignInAuthFormSchema();\n  const action = useSignInAuthFormAction();\n\n  const form = useForm<SignInAuthFormSchema>({\n    resolver: standardSchemaResolver(schema),\n    defaultValues: {\n      email: \"\",\n      password: \"\",\n    },\n  });\n\n  async function onSubmit(values: SignInAuthFormSchema) {\n    try {\n      const credential = await action(values);\n      props.onSignIn?.(credential);\n    } catch (error) {\n      const message = error instanceof FirebaseUIError ? error.message : String(error);\n      form.setError(\"root\", { message });\n    }\n  }\n\n  return (\n    <Form {...form}>\n      <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-2\">\n        <FormField\n          control={form.control}\n          name=\"email\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>{getTranslation(ui, \"labels\", \"emailAddress\")}</FormLabel>\n              <FormControl>\n                <Input {...field} type=\"email\" />\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n        <FormField\n          control={form.control}\n          name=\"password\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>{getTranslation(ui, \"labels\", \"password\")}</FormLabel>\n              <FormControl>\n                <div className=\"flex items-center gap-2\">\n                  <Input {...field} type=\"password\" className=\"flex-grow\" />\n                  {props.onForgotPasswordClick ? (\n                    <Button type=\"button\" variant=\"secondary\" onClick={props.onForgotPasswordClick}>\n                      {getTranslation(ui, \"labels\", \"forgotPassword\")}\n                    </Button>\n                  ) : null}\n                </div>\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n        <Policies />\n        <Button type=\"submit\" disabled={ui.state !== \"idle\"}>\n          {getTranslation(ui, \"labels\", \"signIn\")}\n        </Button>\n        {form.formState.errors.root && <FormMessage>{form.formState.errors.root.message}</FormMessage>}\n        {props.onRegisterClick ? (\n          <>\n            <Button type=\"button\" variant=\"secondary\" onClick={props.onRegisterClick}>\n              {getTranslation(ui, \"prompts\", \"noAccount\")} {getTranslation(ui, \"labels\", \"register\")}\n            </Button>\n          </>\n        ) : null}\n      </form>\n    </Form>\n  );\n}\n",
      "type": "registry:component"
    }
  ]
}